<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Communities Involved - Project Acheinu</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  
  <style>
    #map { height: 500px; width: 100%; }
    .community-list { font-size: 24px; margin-bottom: 20px; padding: 0 20px; }
    .community-list li { margin-bottom: 10px; }
    #communities h1 { margin-bottom: 30px; }
    .yellow-text { color: yellow; margin-bottom: 20px; }
  </style>

  <script>
    const translations = {
      en: {
        navHome: "Home",
        navComm: "Involved Communities",
        navTest: "Pictures and Testimonials",
        commTitle: "Involved Communities Purim 2025",
        commSub: "Below is a list of communities involved in Project Acheinu Purim 2025. These communities are working together to bring unity to Am Yisrael.",
        list: [
          "Mitzpei Yericho", "Ramot Yerushalyim", "Modiin", "Tzor Hadassah", 
          "Neve Shamir - Ramat Beit Shemesh", "Rechovot", "Fairlawn New Jersey", 
          "Ariel", "Kedem Arava", "Bet Chogla", "Efrat", "Carmei Gat"
        ]
      },
      he: {
        navHome: "בית",
        navComm: "קהילות משתתפות",
        navTest: "תמונות ופיידבק",
        commTitle: "קהילות משתתפות פורים תשפ\"ה",
        commSub: "הנה רשימה של הקהילות המשתתפות בפרויקט אחינו פורים תשפ\"ה. קהילות אלו פועלות יחד כדי להביא אחדות לעם ישראל.",
        list: [
          "מצפה יריחו", "רמות ירושלים", "מודיעין", "צור הדסה", 
          "רמת בית שמש - נווה שמיר", "רחובות", "ניו גרסי", 
          "אריאל", "קדם ערבה", "בית חגלה", "אפרת", "כרמי גת"
        ]
      }
    };

    function setLanguage(lang) {
      localStorage.setItem('preferredLanguage', lang);
      document.documentElement.lang = lang;
      document.body.dir = (lang === 'he') ? 'rtl' : 'ltr';

      // Update static text elements
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
          el.innerText = translations[lang][key];
        }
      });

      // Update the community list dynamically
      const listContainer = document.getElementById('community-items');
      listContainer.innerHTML = ''; // Clear existing
      translations[lang].list.forEach(item => {
        const li = document.createElement('li');
        li.innerText = item;
        listContainer.appendChild(li);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      const savedLanguage = localStorage.getItem('preferredLanguage') || 'en';
      setLanguage(savedLanguage);
    });
  </script>
</head>
<body>

  <div class="language-switcher">
    <button onclick="setLanguage('en')">English</button>
    <button onclick="setLanguage('he')">עברית</button>
  </div>

  <header>
    <nav>
      <ul>
        <li><a href="index.html" data-i18n="navHome">Home</a></li>
        <li><a href="communities.html" data-i18n="navComm">Involved Communities</a></li>
        <li><a href="testimonials.html" data-i18n="navTest">Pictures and Testimonials</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section id="communities">
      <h1 data-i18n="commTitle">Involved Communities Purim 2025</h1>
      <p class="yellow-text" data-i18n="commSub">Below is a list of communities involved in Project Acheinu Purim 2025...</p>
      
      <ul id="community-items" class="community-list">
        </ul>

      <div id="map"></div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Project Acheinu. All Rights Reserved.</p>
  </footer>

  <script>
    // Your existing Leaflet Map initialization code should go here
    // var map = L.map('map').setView([31.0461, 34.8516], 8); ...
  </script>
</body>
</html>
